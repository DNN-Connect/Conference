@inherits ConferenceWebPage<Conference>
@using Connect.DNN.Modules.Conference.Common;
@using Connect.Conference.Core.Models.Conferences;
@using Connect.Conference.Core.Repositories;
@{
    ConferenceModuleContext.AddBootstrapCss();
    var attendees = AttendeeRepository.Instance.GetAttendeesByConference(Model.ConferenceId).OrderBy(s => s.LastName);
    var i = 1;
}

<div class="container">
 <div class="row">
  <div class="col-sm-12">
   <table class="table table-responsive table-striped">
    <thead>
     <tr>
      <th></th>
      <th>@Dnn.LocalizeString("Name")</th>
      <th>@Dnn.LocalizeString("Email")</th>
     </tr>
    </thead>
    <tbody>
     @foreach (var att in attendees)
     {
     <tr>
      <td>@(i).</td>
      <td>@att.LastName, @att.FirstName</td>
      <td>@att.Email</td>
     </tr>
      i++;
     }
    </tbody>
   </table>
  </div>
 </div>
 <div class="row">
  <div class="col-sm-12">
   <div class="right">
    <a href="@GetModuleUrl("API/Attendees/Download?conferenceId=" + Model.ConferenceId.ToString(), true)" class="btn btn-default">
     <span class="glyphicon glyphicon-save"></span>
     @Dnn.LocalizeString("Download")
    </a>
    @ReturnLink(Dnn.LocalizeString("Return"), "Home", "Index", null, new { @class = "btn btn-primary" }, Model.ConferenceId)
   </div>
  </div>
 </div>
</div>

<script type="text/javascript">
 $(document).ready(function () {
 })
</script>
